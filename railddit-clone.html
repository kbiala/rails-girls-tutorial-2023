<!DOCTYPE html>
<html lang="en">
<head>
  <title>Rails Girls Tutorial 2023</title>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap 5.3 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <header class="header text-white py-4">
    <nav class="navbar navbar-expand-lg" data-bs-theme="dark">
      <div class="container">
        <a class="navbar-brand" href="#">
          <img src="https://railsgirls.com/images/railsgirls-logo.png" alt="Logo" height="20" class="d-inline-block align-text-top me-2">
          <h1 class="d-inline-block h5 mb-0">Tutorial</h1>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="index.html#tools">Tools</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html#internet">How Internet Works</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html#html">Static HTML</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html#dynamic-pages">Dynamic Pages</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html#ruby">Ruby</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html#rails">Rails</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html#materials">Materials</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>


  <main class="bg-light text-dark py-5">
    <div class="container">
      <section>
        <h2 class="h3">"Railddit" Clone</h2>
        <p>
          In this tutorial, we're going to create a&nbsp;simple social app, where users can post entries and score them.
          In the&nbsp;next steps, you can implement more features, like comments, user profiles with authorization,
          uploading images, etc.
        </p>
        <p>
          In this tuturial we're going to use Github Codespaces. If you're working on your local machine, you still can
          follow this tutorial, but you'll need to slightly change some of the&nbsp;commands.
        </p>
      </section>

      <hr class="my-5" />

      <section>
        <h3 class="h4">Creating a&nbsp;new app.</h3>
        <p>
          Go to the&nbsp;terminal in your Codespace and run the&nbsp;following command:
          <code class="fw-bold">bin/rails new&nbsp;.&nbsp;--tailwind</code><br />
          <small>
            If you're working on your local machine, replace dot with your application name, eg.:
            <code>bin/rails new&nbsp;railddit&nbsp;--tailwind</code>
          </small>
        </p>
        <p>
          This command will create a&nbsp;new Rails app with Tailwind CSS framework. You can also use Bootstrap or Bulma,
          or skip this flag completely and setup pure Rails application. See all available options by running:
          <code>bin/rails&nbsp;new&nbsp;--help</code>.
        </p>
        <p>
          You should now see a&nbsp;bunch of new files generated by this command. If everything went well, you should
          be able to run your app. To do that, type in the&nbsp;terminal: <code class="fw-bold">bin/rails&nbsp;server</code>.
          Click on the&nbsp;link that will appear in the&nbsp;terminal, that will open you app in a&nbsp;new browser tab.
        </p>

        <h3 class="h5">Configuring the app to work in Github Codespace.</h3>
        <p>Skip this step if you're working on your local machine.</p>
        <p>
          If you're using Codespaces, you need to do one more step. Copy the&nbsp;line that is displayed in the&nbsp;browser tab, and put it inside config/environments/development.rb
          file, inside <code>Rails.application.configure</code> block, so that it looks similar to the&nbsp;following:
        </p>
        <pre class="alert alert-danger">
require "active_support/core_ext/integer/time"

Rails.application.configure do
  # Settings specified here will take precedence over those in config/application.rb.
  ...
  <strong>config.hosts << "GENERATED_ADDRESS.preview.app.github.dev"</strong>
end
        </pre>
        <p>
          Now restart your Rails server by pressing Ctrl+C in the&nbsp;terminal, and running <code>bin/rails&nbsp;server</code> again.
        </p>

        <h4 class="h5">Congratulations! You've just created your first Rails application!</h4>
        <p>
          Before moving further, let's take a&nbsp;moment to look at the&nbsp;files that were generated by
          the <code>bin/rails&nbsp;new</code> command.
        </p>
        <p class="alert alert-dark" role="alert">
          <strong>Coach:</strong> Explain generated files structure. What is the&nbsp;purpose of main files? Introduce
          attendees to MVC pattern, and briefly explain main responsibilities of each part.
        </p>
        <p class="p-2 p-lg-4 bg-white rounded border">
          <img class="w-100" src="mvc.svg" />
        </p>
      </section>

      <hr class="my-5" />

      <section>
        <h3 class="h4">Generating user entries.</h3>
        <p>
          One of the&nbsp;things that Rails provides out of the&nbsp;box is <strong>generators</strong>. It's a&nbsp;command
          that for introducing a&nbsp;new resource into our application (eg. entries, users, posts, comments, products).
          It generates a&nbsp;bunch of files necessary for representing and interacting with this resource, so that we
          don't have to create everything manually.
        </p>
        <p>
          There are several types of generators. For a&nbsp;start, we're going to use <strong>scaffold generator</strong>,
          that will create the&nbsp;whole package for us: a&nbsp;model, views, routes and controller with basic actions
          (creating, reading, updating and destroying data, CRUD in short).
        </p>
        <p>
          Before moving further, open another terminal tab and type: <code>bin/rails&nbsp;tailwindcss:watch</code>.
          Thanks to that, Rails will generate views for us already with Tailwind CSS classes (you'll see it in action
          in a&nbsp;few minutes). Go back to the&nbsp;first tab and restart Rails server. Keep both terminal tabs open
          while developing your app.
        </p>
        <p>
          We can check rails scaffold generator syntax in <a href="https://guides.rubyonrails.org/generators.html" target="_blank">Rails documentation</a>.
          It looks as follows: <code>bin/rails&nbsp;generate&nbsp;scaffol&nbsp;ModelName&nbsp;field:type</code>.<br/>
          We'll call the&nbsp;main resource in the&nbsp;app <strong>entries</strong>. We want them to have a&nbsp;title, content
          and a&nbsp;tag. We won't create real users at this point (you can add this feature later), but we'll add
          username field, so that users can sign their posts. So the&nbsp;command in our case will look as follows:<br />
          <code class="fw-bold">bin/rails&nbsp;generate&nbsp;scaffold&nbsp;Entry title:string content:text username:string tag:string</code>
        </p>
        <p>
          Can you recognise the files that were generated? Among them you should be able to see a&nbsp;new model (Entry.rb),
          controller (EntriesController.rb), and views (views/entries directory). Notice how naming conventions differ
          between models and controllers. Models are singular, controllers and views directory are plural. You'll follow
          the&nbsp;same convention when generating your own code.
        </p>
        <p>
          Let's check generated migration - you should be able to find it in db/migrate directory. If everything looks
          okay to you, run <code class="fw-bold">bin/rails&nbsp;db:migrate</code> in the&nbsp;terminal to apply this migration.
        </p>
        <p class="alert alert-dark" role="alert">
          <strong>Coach:</strong> Explain what migrations are and why we need them.
        </p>
        <p>
          Restart your server and check the&nbsp;results in the&nbsp;browser. Spend a&nbsp;few minutes on playing with generated
          views through the&nbsp;browser - create some entries, try to edit and delete them. Check how URLs look like. How is
          the&nbsp;URL looks like when you display single entry, and how it looks when you display the&nbsp;list of all entries?
        </p>

        <h3 class="h4">Updating root path.</h3>
        <p>
          We want to display entries on the main page of our app. To do that, we need to update the&nbsp;root path.
          go to config/routes.rb file and add the following line inside Rails.application.routes.draw block:
          <code>root "entries#index"</code>.
        </p>
        <p class="alert alert-dark" role="alert">
          <strong>Coach:</strong> Explain code parts: root, controller, action.
        </p>
      </section>

      <hr class="my-5" />

      <section>
        <h3 class="h4">Updating entry appearance.</h3>
        <p>
          We'll now tweak the&nbsp;appearance of our entries, so that they're displayed in cards, one under another.
          To achieve that, we'll need to update <strong>views</strong>. Go to app/views/entries/ and take a&nbsp;look at
          files in this directory. Notice that they have .html.erb extension. It means that they're HTML files (that we
          already know from previous lessons), but they also contain some Ruby code. Ruby variables are generated in
          controller and passed to the&nbsp;view.
        </p>
        <p>
          The action that displays the&nbsp;list of all entries is called <strong>index</strong>, and the&nbsp;corresponding view
          is entries/index.html.erb. But index file uses _entry.html.erb partial, that ensures that every entry is
          displayed in the&nbsp;same way. So we'll need to edit _entry.html.erb file. Open it in your code editor.
        </p>
        <p>
          Take a&nbsp;look at the code and compare it to what you can see in the&nbsp;browser. Can you find the&nbsp;part responsible
          for displaying entry title?
        </p>
        <p class="alert alert-dark" role="alert">
          <strong>Coach:</strong> Explain the&nbsp;role of &lt;%= %&gt; code.
        </p>
        <p>
          To edit a&nbsp;single entry, open <strong>views/entries/_entry.html.erb file</strong>. Use the&nbsp;knowledge
          gained during the&nbsp;workshops so far to:
        </p>
        <ul>
          <li>apply <code>article</code> tag around the single entry code in _entry.html.erb</li>
          <li>
            add Tailwind classes to article tag that will display entry in a&nbsp;card
            (<a href="https://v1.tailwindcss.com/components/cards">see docs</a>)
          </li>
          <li>remove labels that display attributes names</li>
          <li>remove horizontal line (<code>&lt;hr/&gt;</code>)</li>
          <li>
            move username (<code>&lt;%= entry.username %&gt;</code>) to the&nbsp;top of the&nbsp;card and add creation
            date nex to it (the&nbsp;entry attribute that stores this information is called created_at)
          </li>
          <li>display entry title in <code>h2</code> tag, and make it bold</li>
          <li>
            shorten links names to "Show" and "Edit" (links in Ruby are generated by <code>&lt;%= link_to %&gt;</code> tags)
          </li>
          <li>remove classes from links, so that they're displayed as text, instead of buttons</li>
          <li>make links and top text (username and creation date) smaller and dark gray instead of black</li>
          <li>adjust margins to your liking (<code>mb-X</code> and <code>my-X</code> classes)</li>
        </ul>
        <p class="alert alert-dark" role="alert">
          <strong>Coach:</strong> Help with explaining, adding and editing Ruby tags.
        </p>
        <p>
          We can also style entry tag attribute as button, and move it next to the&nbsp;title. To do that, we'll need
          to use <code>&lt;button&gt;</code> tag with Tailwind classes:
        </p>
        <pre class="alert alert-danger">
&lt;p class="mb-3"&gt;
  &lt;h2 class="font-bold inline-block"&gt;&lt;%= entry.title %>&lt;/h2&gt;
  &lt;button class="bg-gray-400 hover:bg-gray-300 text-white py-1 px-2 rounded-full text-xs"&gt;
    &lt;%= entry.tag %&gt;
  &lt;/button&gt;
&lt;/p&gt;
        </pre>
        <p>
          Finally, we can add background colors, so that our cards stand out. To do that, we'll need to add
          <code>bg-white</code> class to <code>article</code> tag in _entry.html.erb and <code>bg-blue-50</code>
          to <code>body</code> tag in views/layouts/application.html.erb file.
        </p>
        <p>
          After these changes, the homepage should now resemble social app with entries added by users.
          My _entry.html.erb file looks like follows:
        </p>
        <pre class="alert alert-danger">
&lt;article id="&lt;%= dom_id entry %&gt;" class="border border-gray-300 bg-white rounded-md shadow mb-3"&gt;
  &lt;div class="p-4"&gt;
    &lt;p class="text-xs text-gray-500 mb-3"&gt;
      Posted by &lt;%= entry.username %&gt; &lt;%= entry.created_at %&gt;
    &lt;/p&gt;
    &lt;div class="mb-2"&gt;
      &lt;h2 class="font-bold inline-block"&gt;&lt;%= entry.title %>&lt;/h2&gt;
      &lt;button class="bg-gray-400 hover:bg-gray-300 text-white py-1 px-2 rounded-full text-xs"&gt;
        &lt;%= entry.tag %&gt;
      &lt;/button&gt;
    &lt;/div&gt;

    &lt;div class="mb-3"&gt;
      &lt;%= entry.content %&gt;
    &lt;/div&gt;

    &lt;% if action_name != "show" %&gt;
      &lt;%= link_to "Show", entry, class: "inline-block font-bold text-xs text-gray-500 mr-3" %&gt;
      &lt;%= link_to 'Edit', edit_entry_path(entry), class: "inline-block font-bold text-xs text-gray-500" %&gt;
    &lt;% end %&gt;
   &lt;/div&gt;
&lt;/article&gt;
        </pre>
      </section>

      <hr class="my-5" />

      <p class="fw-bold">Want to keep learning? Check out <a href="index.html#materials">these links</a>.</p>
    </div>
  </main>

  <footer class="footer text-dark py-5">
    <div class="container">
      2023 Klaudia Biała
      <a href="https://github.com/kbiala" target="_blank">
        <img alt="GH logo"
             height="17"
             class="d-inline-block align-text-top ms-1"
             src="https://upload.wikimedia.org/wikipedia/commons/c/c2/GitHub_Invertocat_Logo.svg" />
      </a>
    </div>
  </footer>

  <!-- Bootstrap 5.3 JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</body>
</html>
